<style>
:root{
  --bg-main:#eef4fb;
  --bg-elevated:#f5f9ff;
  --bg-elevated-soft:#dbe8f9;
  --bg-header:#cfe0f7;
  --bg-header-chip:#bcd3f3;
  --bg-sticky-index:#adc9ef;
  --bg-symbol-freeze:#cfe0f7;

  --border-subtle:#9dbbe5;
  --border-strong:#6f9fd9;

  --text-main:#0b2348;
  --text-muted:#355f9b;
  --text-soft:#6a8fc2;

  --accent-up:#3b82f6;
  --accent-down:#dc2626;
  --accent-nt:#6a8fc2;

  --accent-buy:#60a5fa;
  --accent-sell:#f87171;
  --accent-strong:#2563eb;

  --scan-fresh:#22c55e;
  --scan-active:#3b82f6;
  --scan-old:#f59e0b;
  --scan-bad:#b91c1c;

  --btn-rotate:#2563eb;
  --btn-spurts:#3b82f6;
  --btn-munna:#60a5fa;

  --shadow-soft:0 8px 22px rgba(40,80,150,.22);
}

*{box-sizing:border-box;}

body{
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  margin:10px;
  background:linear-gradient(180deg,#f7faff,#eef4fb);
  color:var(--text-main);
}

h2{margin:5px 0 10px;font-size:20px;color:var(--text-main);}

.header-row{display:flex;align-items:center;gap:10px;margin:6px 0 12px;position:relative;z-index:60;}

.title-rect{
  padding:6px 12px;border-radius:10px;font-weight:700;font-size:18px;
  background:linear-gradient(135deg,#eef4ff,#cfe0f7);
  color:var(--text-main);
  border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
}

.edu-text{font-size:13px;color:var(--text-soft);}
.legend{display:flex;gap:8px;}

.lg-item{
  padding:6px 10px;border-radius:999px;font-weight:700;font-size:12px;
  background:#dbe8f9;color:var(--text-main);
  border:1px solid var(--border-subtle);
}

.lg-bull{background:#bfdbfe;}
.lg-bear{background:#fecaca;}
.lg-grey{background:#8fb2e6;color:#fff;}

.table-wrap{
  width:100%;max-height:85vh;overflow:auto;border-radius:12px;
  padding-right:12px;background:var(--bg-elevated);
  box-shadow:var(--shadow-soft);
  border:1px solid var(--border-subtle);
}

table.dataframe{border-collapse:collapse;width:100%;min-width:750px;font-size:13px;color:var(--text-main);}

table.dataframe th,
table.dataframe td{
  border:1px solid var(--border-subtle);
  padding:6px 8px;text-align:center;
  background:#fbfdff;font-weight:600;
}

table.dataframe tbody tr:nth-child(even) td{background:var(--bg-main);}
table.dataframe tr:hover td{background:#dbe8f9;}

table.dataframe th{
  background:linear-gradient(180deg,#dbe8f9,#bcd3f3);
  color:var(--text-main);
  font-weight:800;position:sticky;top:0;z-index:30;
  font-size:11px;letter-spacing:.05em;text-transform:uppercase;
  border-bottom:2px solid var(--border-strong);
}

table.dataframe tr.sticky-row{
  position:sticky;top:40px;z-index:90;
  background:linear-gradient(180deg,#dbe8f9,#bcd3f3);
  border-bottom:1px solid var(--border-strong);
}

table.dataframe tr.sticky-row td{
  background:linear-gradient(180deg,#dbe8f9,#bcd3f3)!important;
  font-weight:800;
}

table.dataframe tr.sticky-row td.col-SYMBOL{
  position:sticky;left:0;top:40px;z-index:95;
  background:linear-gradient(180deg,#dbe8f9,#bcd3f3)!important;
  box-shadow:1px 0 0 var(--border-strong);
}

table.dataframe tr.sticky-row + tr.sticky-row{top:76px;}
table.dataframe tr.sticky-row + tr.sticky-row td.col-SYMBOL{top:76px;}

.col-SYMBOL{
  position:sticky;left:0;z-index:30;background:inherit;
  border-right:1px solid var(--border-subtle);
  text-align:left;padding-left:8px;font-weight:700;
}

table.dataframe th.col-SYMBOL{
  z-index:70;
  background:linear-gradient(180deg,#dbe8f9,#bcd3f3);
}

table.dataframe th:nth-child(n+14),
table.dataframe td:nth-child(n+14){display:none;}

td.col-QCP{
  color:var(--text-main)!important;
  font-weight:800;background:#eef4ff!important;
}

td.col-QCP span{color:var(--text-main)!important;}

.signal-slab{
  display:inline-flex;align-items:center;min-width:60px;height:24px;
  font-weight:700;background:#dbe8f9;color:var(--text-main);
  border-radius:4px;border:1px solid var(--border-subtle);
  box-shadow:var(--shadow-soft);
}

.signal-slab.buy{background:#bfdbfe;}
.signal-slab.sell{background:#fecaca;}
.signal-slab.nt{background:#dbe8f9;color:var(--text-soft);}

.price-tag{
  display:inline-flex;padding:4px 12px 4px 16px;font-weight:700;
  border-radius:4px;background:#dbe8f9;color:var(--text-main);
  box-shadow:var(--shadow-soft);border:1px solid var(--border-subtle);
}

.price-tag.buy{background:#bfdbfe;}
.price-tag.sell{background:#fecaca;}
.price-tag.nt{background:transparent;color:var(--text-soft);border:1px dashed var(--border-strong);}

.floating-controls{
  position:fixed;bottom:12px;left:12px;z-index:9999;
  display:flex;gap:6px;backdrop-filter:blur(8px);
}

.ctrl-btn,
.ctrl-link{
  width:32px;height:32px;border-radius:10px;
  border:1px solid var(--border-subtle);
  display:flex;align-items:center;justify-content:center;
  font-weight:800;color:var(--text-main);
  background:var(--bg-elevated);
  box-shadow:var(--shadow-soft);transition:.15s;
}

.ctrl-btn:hover,
.ctrl-link:hover{transform:translateY(-2px) scale(1.04);}

table.dataframe tbody tr:not(.sticky-row):nth-child(even) td{background:var(--bg-main);}

:root{--sticky-top:36px;--sticky-h:36px;}

table.dataframe tr.sticky-row{top:36px!important;}
table.dataframe tr.sticky-row + tr.sticky-row{top:78px!important;}

table.dataframe tr.sticky-row + tr.sticky-row td.col-SYMBOL{
  top:calc(var(--sticky-top) + var(--sticky-h));
}

#rotateBtn{background:var(--btn-rotate);color:#fff;}
.ctrl-spurts{background:var(--btn-spurts);color:#fff;}
.ctrl-munna{width:110px;background:var(--btn-munna);font-size:14px;color:#fff;}
</style>
