<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FNOScreener – Signal Log-1 (2026-01-22)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
:root {
  --bg-main: #020617;
  --bg-card: #020617;
  --border-subtle: #1f2937;
  --text-primary: #f9fafb;
  --text-muted: #9ca3af;
  --accent: #38bdf8;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(circle at top, #0f172a, #020617 55%, #000 100%);
  color: var(--text-primary);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.page-wrap {
  width: 100%;
  max-width: 1480px;
  padding: 24px 8px 32px;
}

.app-shell {
  border-radius: 18px;
  border: 1px solid rgba(31,41,55,0.95);
  background: radial-gradient(circle at top left, rgba(15,23,42,0.96), rgba(2,6,23,0.98));
  box-shadow: 0 18px 70px rgba(0,0,0,0.9);
  overflow: hidden;
}

.app-header {
  padding: 12px 16px;
  border-bottom: 1px solid rgba(31,41,55,0.95);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.app-title {
  display: flex;
  align-items: center;
  gap: 10px;
}

.app-logo {
  width: 26px;
  height: 26px;
  border-radius: 10px;
  background: radial-gradient(circle at 30% 0%, #f97316, #ef4444 40%, #0ea5e9 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 0 1px rgba(15,23,42,0.9);
  font-size: 0.8rem;
  font-weight: 700;
  color: #f9fafb;
}

.app-name {
  font-size: 0.98rem;
  font-weight: 600;
}

.app-subtitle {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.app-meta {
  text-align: right;
  font-size: 0.75rem;
  color: var(--text-muted);
}

.app-meta div + div {
  margin-top: 2px;
}

.app-body {
  padding: 10px 10px 14px;
}

.section-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 6px;
  gap: 8px;
}

.section-title {
  font-size: 0.9rem;
  font-weight: 600;
}

.section-subtitle {
  font-size: 0.75rem;
  color: var(--text-muted);
}

.search-box {
  display: flex;
  align-items: center;
  gap: 8px;
}

.search-input {
  background-color: #020617;
  border-radius: 999px;
  border: 1px solid #334155;
  color: var(--text-primary);
  font-size: 0.78rem;
  padding: 0.25rem 0.75rem;
  min-width: 160px;
}

.search-input::placeholder {
  color: #6b7280;
  font-size: 0.75rem;
}

.table-wrap {
  width: 100%;
  overflow-x: auto;
}

.sig-table {
  margin-bottom: 0;
  width: 100%;
  min-width: 900px;
}

.sig-table thead th {
  background: #020617;
  border-bottom: 1px solid rgba(31,41,55,0.95);
  color: #9ca3af;
  font-size: 0.72rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  padding-top: 0.45rem;
  padding-bottom: 0.45rem;
  white-space: nowrap;
}

.sig-table tbody tr td {
  border-bottom: 1px solid rgba(15,23,42,0.95);
  font-size: 0.78rem;
  color: var(--text-primary);
  padding-top: 0.38rem;
  padding-bottom: 0.38rem;
  background-color: #020617;
}

.sig-table tbody tr:hover td {
  background-color: #111827;
}

.sig-table tbody tr:last-child td {
  border-bottom-color: transparent;
}

.text-mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.76rem;
}

.footer {
  padding: 8px 16px 10px;
  border-top: 1px solid rgba(15,23,42,0.95);
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 6px;
  font-size: 0.72rem;
  color: var(--text-muted);
}

.pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 72px;
  padding: 0.12rem 0.55rem;
  border-radius: 999px;
  font-size: 0.72rem;
  font-weight: 600;
  border: 1px solid rgba(31,41,55,1);
}

.pill-buy {
  background: rgba(22,163,74,0.25);
  color: #bbf7d0;
  border-color: rgba(21,128,61,0.9);
}

.pill-sell {
  background: rgba(239,68,68,0.25);
  color: #fecaca;
  border-color: rgba(127,29,29,0.95);
}

.pill-strong-buy {
  background: rgba(16,185,129,0.35);
  color: #a7f3d0;
  border-color: rgba(4,120,87,0.95);
}

.pill-strong-sell {
  background: rgba(248,113,113,0.35);
  color: #fee2e2;
  border-color: rgba(127,29,29,1);
}

/* Sticky header + first column (Symbol) */
.sig-table thead th {
  position: sticky;
  top: 0;
  z-index: 3;
}

.sig-table thead th:nth-child(1),
.sig-table tbody td:nth-child(1) {
  position: sticky;
  left: 0;
  z-index: 2;
  background-color: #020617;
}

.sig-table thead th:nth-child(1) {
  z-index: 4;
}

.sig-table tbody td:nth-child(1) {
  font-weight: 600;
}

/* Column alignment:
   1 Symbol -> left
   2 Datetime -> mono center
   3 Signal Type -> center
   4 SPOT_LTP -> right
   5 Expiry -> center
   6 Strike -> center
   7 Option Type -> center
   8 PRICE -> right
   9 Exit Price -> right
   10 Exit Time -> center
*/
.sig-table thead th:nth-child(1),
.sig-table tbody td:nth-child(1) {
  text-align: left;
}

.sig-table thead th:nth-child(2),
.sig-table tbody td:nth-child(2),
.sig-table thead th:nth-child(3),
.sig-table tbody td:nth-child(3),
.sig-table thead th:nth-child(5),
.sig-table tbody td:nth-child(5),
.sig-table thead th:nth-child(6),
.sig-table tbody td:nth-child(6),
.sig-table thead th:nth-child(7),
.sig-table tbody td:nth-child(7),
.sig-table thead th:nth-child(10),
.sig-table tbody td:nth-child(10) {
  text-align: center;
}

.sig-table thead th:nth-child(4),
.sig-table tbody td:nth-child(4),
.sig-table thead th:nth-child(8),
.sig-table tbody td:nth-child(8),
.sig-table thead th:nth-child(9),
.sig-table tbody td:nth-child(9) {
  text-align: right;
}

@media (max-width: 900px) {
  body {
    align-items: stretch;
  }
  .page-wrap {
    padding: 12px 4px 20px;
  }
  .app-header {
    flex-direction: column;
    align-items: flex-start;
  }
  .app-meta {
    text-align: left;
  }
  .app-body {
    padding: 8px 8px 10px;
  }
  .sig-table {
    font-size: 0.76rem;
  }
  .footer {
    flex-direction: column;
    align-items: flex-start;
  }
}
</style>
</head>
<body>
<div class="page-wrap">
  <div class="app-shell">
    <header class="app-header">
      <div class="app-title">
        <div class="app-logo">FO</div>
        <div>
          <div class="app-name">FNOScreener · Signal Log-1</div>
          <div class="app-subtitle">Intraday options signals snapshot</div>
        </div>
      </div>
      <div class="app-meta">
        <div>Last trading date: <span class="text-mono">2026-01-22</span></div>
        <div>Scan time: <span class="text-mono">2026-01-22 02:16:49</span></div>
        <div>HTML gen time: <span class="text-mono">2026-01-22 08:35:09</span></div>
        <div id="now">View time: –</div>
      </div>
    </header>

    <main class="app-body">
      <div class="section-header">
        <div>
          <div class="section-title">Signals</div>
          <div class="section-subtitle">Logbook file: log-22012026.xlsx</div>
        </div>
        <div class="search-box">
          <input id="searchInput" class="search-input" type="text"
                 placeholder="Search symbol (e.g. MCX)">
        </div>
      </div>

      <div class="table-wrap">
        <table class="dataframe table table-borderless table-hover table-sm align-middle sig-table">
  <thead>
    <tr style="text-align: center;">
      <th>Symbol</th>
      <th>Datetime</th>
      <th>Signal Type</th>
      <th>SPOT_LTP at signal</th>
      <th>Expiry</th>
      <th>Strike</th>
      <th>Option Type</th>
      <th>PRICE</th>
      <th>Exit Price</th>
      <th>Exit Time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>FEDERALBNK</td>
      <td>2026-01-22 02:16:45</td>
      <td>Strong Buy</td>
      <td>275.9</td>
      <td>2026-01-27</td>
      <td>275-CE</td>
      <td>CE</td>
      <td>3.90</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>HCLTECH</td>
      <td>2026-01-22 02:16:47</td>
      <td>Buy</td>
      <td>1680.9</td>
      <td>2026-01-27</td>
      <td>1680-CE</td>
      <td>CE</td>
      <td>14.25</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>ABCAPITAL</td>
      <td>2026-01-22 02:16:49</td>
      <td>Sell</td>
      <td>346.0</td>
      <td>2026-01-27</td>
      <td>345-PE</td>
      <td>PE</td>
      <td>4.25</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
      </div>
    </main>

    <footer class="footer">
      <span>Generated by <span class="text-mono">build_siglog.py</span></span>
      <span>Generated at: <span class="text-mono">2026-01-22 08:35:09</span></span>
      <span>Powered by <span class="text-mono">FNOScreener</span></span>
    </footer>
  </div>
</div>

<script>
  const el = document.getElementById("now");
  function tick() {
    const d = new Date();
    el.textContent = "View time: " + d.toLocaleString();
  }
  tick();
  setInterval(tick, 1000);

  document.addEventListener("DOMContentLoaded", () => {
    const table = document.querySelector("table.sig-table");
    if (!table) return;

    const headerCells = table.tHead?.rows[0]?.cells || [];
    let signalIdx = -1;
    let symbolIdx = -1;

    for (let i = 0; i < headerCells.length; i++) {
      const txt = headerCells[i].textContent.trim().toLowerCase();
      if (txt === "signal type") signalIdx = i;
      if (txt === "symbol") symbolIdx = i;
    }

    const rows = table.tBodies[0].rows;

    // Signal pills
    if (signalIdx !== -1) {
      for (const row of rows) {
        const cell = row.cells[signalIdx];
        if (!cell) continue;
        const value = cell.textContent.trim().toLowerCase();
        let cls = "";
        if (value === "buy") cls = "pill-buy";
        else if (value === "sell") cls = "pill-sell";
        else if (value === "strong buy") cls = "pill-strong-buy";
        else if (value === "strong sell") cls = "pill-strong-sell";

        if (cls) {
          cell.innerHTML = '<span class="pill ' + cls + '">' +
                           cell.textContent.trim() + '</span>';
        }
      }
    }

    // Datetime column ko mono font
    const dtIdx = 1;  // 2nd column (0-based index 1)
    for (const row of rows) {
      const c = row.cells[dtIdx];
      if (c) c.classList.add("text-mono");
    }

    // === Search filter by Symbol ===
    const searchInput = document.getElementById("searchInput");
    if (searchInput && symbolIdx !== -1) {
      searchInput.addEventListener("input", () => {
        const q = searchInput.value.trim().toLowerCase();
        for (const row of rows) {
          const cell = row.cells[symbolIdx];
          if (!cell) continue;
          const sym = cell.textContent.trim().toLowerCase();
          if (!q || sym.includes(q)) {
            row.style.display = "";
          } else {
            row.style.display = "none";
          }
        }
      });
    }
  });
</script>
</body>
</html>
